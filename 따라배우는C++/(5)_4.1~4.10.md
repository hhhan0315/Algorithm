## 4.2 전역 변수, 정적 변수, 내부 연결, 외부 연결
```c
// 1
#include <iostream>
using namespace std;

int value = 123;
int main()
{
	int value = 1;
	cout << ::value << endl;	// 123 (::은 전역변수)
	cout << value << endl;		// 1

	return 0;
}
```
```c
// 2
#include <iostream>
using namespace std;

//int a = 1;	// 전역 변수는 최소한으로 사용하는 것이 좋다.
void doSomething()
{
	static int a = 1;	// a=1을 반복하지 않음.
	// 처음에 static을 선언할 경우 초기화는 반드시 존재해야한다.
	// 두번 째 doSomething() 실행시 static int a=1;은 무시하고 ++a부터 실행.
	// static : 같은 메모리, 주소를 사용한다.
	++a;
	cout << a << endl;
}
int main()
{
	doSomething();
	doSomething();

	return 0;
}
```
```c
// 3. 외부연결
// Source.cpp
#include <iostream>

extern int a = 10;

void doSomething()
{
	using namespace std;
	cout << "hi" << endl;
}

// main.cpp
#include <iostream>
//#include "Source.cpp" // 가급적 cpp include는 사용하지 않음.
using namespace std;

static int g_a = 1;	// static 사용하면 외부 cpp 파일에서 접근 불가

// forward declaration
extern void doSomething();	// extern이 생략되어서 사용이 되어지기도 한다.
extern int a;	// 초기화해야하고 여기서도 초기화하면 오류 발생

int main()
{
	doSomething();

	cout << a << endl;

	return 0;
}

```
```c
// 4
// main.cpp
#include <iostream>
#include "Header.h"
using namespace std;

void doSomething();

/*
	int g_x;	// external linkage
	static int g_x;	// internal linkage
	const int g_x;	// 사용 불가(초기화 없어서)

	extern int g_z;
	extern const int g_z;

	int g_y(1);
	static int g_y(1);
	const int g_y(1);

	extern int g_w(1);	// 다른 cpp 파일 연결
	extern const int g_w(1);
*/

int main()
{
	cout << "In main cpp file : " << Constants::pi << " " << &Constants::pi << endl;
        // header 파일에 constants 값이 있으면 주소가 다르다.
        // cpp 파일에 있으면 주소가 같다.
	doSomething();
	return 0;
}

// source.cpp
#include <iostream>
#include "Header.h"

void doSomething()
{
	using namespace std;
	cout << "In source cpp file : " << Constants::pi << " " << &Constants::pi << endl;
}

// Constants.cpp
namespace Constants
{
	extern const double pi(3.141592);
	extern const double gravity(9.8);
}

// Header.h
#pragma once

namespace Constants
{
	extern const double pi;
	extern const double gravity;
}
```
